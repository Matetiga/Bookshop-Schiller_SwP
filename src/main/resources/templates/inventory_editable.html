<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Details</title>
    <link rel="stylesheet" th:href="@{/resources/css/style.css}">
</head>
<body>
<div th:if="${bookForm != null}">
    <header>
        <h1>Editing Book</h1>
    </header>
    <div class="container">
        <aside class="sidebar panel-effect">
            <ul class="small-nav">
                <li><button th:text="#{home.nav.home}" class="small-nav-tab-button" th:onclick="|location.href='@{/}'|">Home</button></li>
                <li><button th:text="#{inventory.back}" class="small-nav-tab-button" th:onclick="|location.href='@{/inventory_book}'|">Back</button></li>
            </ul>
        </aside>
        <section class="right-view panel-effect">
            <form th:action="@{/inventory/save_book/{id}(id=${bookID})}" method="post">
                <table>
                    <tr>
                        <th>Name</th>
                        <td th:text="${bookForm.name}"></td>
                        <td>
                            <label>
                                <input type="text" name="name" th:field="*{bookForm.name}" placeholder="Enter new name" />
<!--                                <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->

                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Image</th>
                        <td th:text="${bookForm.image}"></td>
                        <td>
                            <label>
                                <input type="text" name="image" th:field="*{bookForm.image}" placeholder="Enter new image" />
<!--                                <span th:if="${#fields.hasErrors('image')}" th:errors="*{bookForm.image}"></span>-->
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Description</th>
                        <td th:text="${bookForm.description}"></td>
                        <td>
                            <label>
                                <textarea name="description"  placeholder="Enter new description" rows="4" cols="20" th:text="*{bookForm.description}"></textarea>
<!--                                <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>-->
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Genres</th>
                        <td>
                            <ul>
                                <!-- Each genre is a string here -->
                                <li th:each="genre : ${bookForm.getGenre()}">
                                    <span th:text="${genre}"></span>
                                </li>
                            </ul>
                        </td>
                        <td>
                            <label>
                                <select name="genre[]" multiple>
                                    <option th:each="genre : ${bookGenres}"
                                            th:value="${genre.getGenre()}"
                                            th:text="${genre.getGenre()}"
                                            th:selected="*{bookForm.getGenre().contains(genre)}">

                                    </option>
                                </select>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Author</th>
                        <td th:text="${bookForm.author}"></td>
                        <td>
                            <label>
                                <input type="text" name="author" th:field="*{bookForm.author}" placeholder="Enter new author" />
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>ISBN</th>
                        <td th:text="${bookForm.ISBN}"></td>
                        <td>
                            <label>
                                <input type="text" name="ISBN" th:field="*{bookForm.ISBN}" placeholder="Enter new ISBN" />
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Publisher</th>
                        <td th:text="${bookForm.publisher}"></td>
                        <td>
                            <label>
                                <input type="text" name="publisher" th:field="*{bookForm.publisher}" placeholder="Enter new publisher" />
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>Price</th>
                        <td th:text="${bookForm.price}"></td>
                        <td>
                            <label>
                                <input type="number" name="price" th:field="*{bookForm.price}" placeholder="Enter new price" />
                            </label>
                        </td>
                    </tr>

                </table>

                <button type="submit">Save Changes</button>
                <span th:if="${error_editing}" th:text="${error_editing}"></span>
            </form>
        </section>
    </div>
</div>

<div class="shadowbox" th:if="${calendar != null}">
    <header>
        <h1>Editing Calendar</h1>
    </header>
    <div class="container">
        <aside class="sidebar panel-effect">
            <ul class="small-nav">
                <li><button th:text="#{home.nav.home}" class="small-nav-tab-button" th:onclick="|location.href='@{/}'|">Home</button></li>
                <li><button th:text="#{inventory.back}" class="small-nav-tab-button" th:onclick="|location.href='@{/inventory_calendar}'|">Back</button></li>
            </ul>
        </aside>
        <section class="right-view panel-effect">
            <form action="/inventory/save_calendar" method="post">
                <input type="hidden" name="itemId" th:value="${calendar.id}" />
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${calendar.name}"></td>
                        <td>
                            <input type="text" name="name" th:value="${calendar.name}" placeholder="Enter new name" />
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th>Price</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${calendar.price}"></td>
                        <td>
                            <input type="text" name="price" th:value="${calendar.price.number}" placeholder="Enter new price"/>
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th>Description</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${calendar.description}"></td>
                        <td>
                            <textarea type="text" name="description"  placeholder="Enter new description" rows="4" cols="20" th:text="${calendar.description}"></textarea>
                        </td>
                    </tr>
                </table>
                <button type="submit">Save Changes</button>
            </form>
        </section>
    </div>
</div>

<div th:if="${merch != null}">
    <header>
        <h1>Editing Merchandise</h1>
    </header>
    <div class="container">
        <aside class="sidebar panel-effect">
            <ul class="small-nav">
                <li><button th:text="#{home.nav.home}" class="small-nav-tab-button" th:onclick="|location.href='@{/}'|">Home</button></li>
                <li><button th:text="#{inventory.back}" class="small-nav-tab-button" th:onclick="|location.href='@{/inventory_merch}'|">Back</button></li>
            </ul>
        </aside>
        <section class="right-view panel-effect">
            <form action="/inventory/save_merch" method="post">
                <input type="hidden" name="itemId" th:value="${merch.id}" />
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${merch.name}"></td>
                        <td>
                            <input type="text" name="name" th:value="${merch.name}" placeholder="Enter new name" />
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th>Price</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${merch.price}"></td>
                        <td>
                            <input type="text" name="price" th:value="${merch.price.number}" placeholder="Enter new price" />
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th>Description</th>
                        <th>Edit</th>
                    </tr>
                    <tr>
                        <td th:text="${merch.description}"></td>
                        <td>
                            <textarea type="text" name="description"  placeholder="Enter new description" rows="4" cols="20" th:text="${merch.description}"></textarea>
                        </td>
                    </tr>
                </table>
                <button type="submit">Save Changes</button>
            </form>
        </section>
    </div>
</div>
</body>
</html>